!function(){"use strict";var e={664:function(e,t,a){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return o(t,e),t},l=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=c(a(196)),i=a(657),u=a(10),m=[1,3,5],f=[(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(m[2],"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-0"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(m[1],"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-1"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(m[0],"rem) scale(0.75)}\n    75% {transform: translateX(-").concat(m[0],"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-2"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(m[0],"rem) scale(0.75)}\n    75% {transform: translateX(").concat(m[0],"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-3"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(").concat(m[1],"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-4"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(").concat(m[2],"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-5")];t.default=function(e){var t=e.loading,a=void 0===t||t,n=e.color,o=void 0===n?"#000000":n,c=e.speedMultiplier,u=void 0===c?1:c,m=e.cssOverride,d=void 0===m?{}:m,p=e.size,h=void 0===p?15:p,v=l(e,["loading","color","speedMultiplier","cssOverride","size"]),g=(0,i.parseLengthAndUnit)(h),b=g.value,y=g.unit,E=r({display:"inherit",position:"relative"},d),w=function(e){return{position:"absolute",fontSize:"".concat(b/3).concat(y),width:"".concat(b).concat(y),height:"".concat(b).concat(y),background:o,borderRadius:"50%",animation:"".concat(f[e]," ").concat(1.5/u,"s infinite"),animationFillMode:"forwards"}};return a?s.createElement("span",r({style:E},v),s.createElement("span",{style:w(0)}),s.createElement("span",{style:w(1)}),s.createElement("span",{style:w(2)}),s.createElement("span",{style:w(3)}),s.createElement("span",{style:w(4)}),s.createElement("span",{style:w(5)})):null}},10:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,a){var r="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return r;var n=document.createElement("style");document.head.appendChild(n);var o=n.sheet,c="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(c,0),r}},657:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var a={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var n=(e.match(/[^0-9]*$/)||"").toString();return a[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return"".concat(t.value).concat(t.unit)}},196:function(e){e.exports=window.React}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=a(196),t=window.wp.element,r=a(664),n=a.n(r),o=function(){return(0,e.createElement)("div",{className:"loading"},"Loading fixture...",(0,e.createElement)(n(),{color:"#008fca",cssOverride:{display:"block",margin:"0 auto",width:"max-content",padding:"20px 0"}}))};const c=document.querySelector(".wp-block-vml-fixtures-instruct");c&&(0,t.render)((0,e.createElement)((()=>{const[a,r]=(0,t.useState)(null),[n,c]=(0,t.useState)(!0),[l,s]=(0,t.useState)(null),[i,u]=(0,t.useState)(null),[m,f]=(0,t.useState)(null),d=new URL(window.location.href),p=d.searchParams.get("brand"),h=d.searchParams.get("promo"),v=d.searchParams.get("fixture"),g=d.searchParams.get("region");(0,t.useEffect)((()=>{!async function(){try{const e=await(async(e,t)=>{try{let a="/wp-json/vml-fixtures/v1/get-option/";(e||t)&&(a+=`?${new URLSearchParams({brand:e,promo:t}).toString()}`);const r=await fetch(a);if(!r.ok)throw new Error(`API request failed with status ${r.status}`);return await r.json()}catch(e){throw console.error("Error fetching option data:",e),e}})(p,h);if(!e?.data)throw new Error("No data received. Please select a Promotion.");{const t=e.data;r(t),u(v),f(g)}}catch(e){console.error("Fetch Error:",e),s(e.toString())}finally{c(!1)}}()}),[]);const b=(0,t.useMemo)((()=>((e,t)=>{const a=new Set;return e?.final_skus&&Object.values(e.final_skus).forEach((e=>{e.positions.forEach((e=>a.add(e.fixture_type)))})),Array.from(a).sort()})(a)),[a]),y=(0,t.useMemo)((()=>(()=>{const e=new Set;return a?.final_skus&&Object.values(a.final_skus).forEach((t=>{t.positions.forEach((t=>{t.fixture_type===i&&e.add(t.region)}))})),Array.from(e).sort()})()),[a,i]);return n?(0,e.createElement)(o,null):l?(0,e.createElement)("p",null,l):a?(0,e.createElement)("div",{className:"fixture-select"},(0,e.createElement)("div",{className:"noprint"},(0,e.createElement)("strong",null,"Select Fixture"),(0,e.createElement)("ul",{className:"buttons-row"},[...b].reverse().map((t=>(0,e.createElement)("li",{key:t},(0,e.createElement)("button",{onClick:()=>u(t),className:"ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-radio-label"+(i===t?" ui-checkboxradio-checked ui-state-active":"")},t))))),i&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("strong",null,"Select Region"),(0,e.createElement)("ul",{className:"buttons-row"},[...y].reverse().map((t=>(0,e.createElement)("li",{key:t},(0,e.createElement)("button",{onClick:()=>f(t),className:"ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-radio-label "+(m===t?" ui-checkboxradio-checked ui-state-active":"")},t))))))),(()=>{if(!a||"object"!=typeof a.final_skus||!i)return(0,e.createElement)("p",null,"No SKU data available. Please select a Fixture.");let t={},r=[];const n=(e,t)=>{const a=["LS","M","RS"];return a.indexOf(e)-a.indexOf(t)};Object.values(a.final_skus).forEach((e=>{e.positions&&e.positions.forEach((a=>{a.fixture_type!==i||m&&a.region!==m||("P"===a.shelf?r.push({...a,...e}):(t[a.shelf]||(t[a.shelf]=[]),t[a.shelf].push({...a,...e})))}))}));const o=(t,r)=>{let o=t.reduce(((e,t)=>{let a=t.horizontal;return e[a]||(e[a]=[]),e[a].push(t),e}),{}),c=Object.keys(o).sort(((e,t)=>e-t));return c.forEach((e=>{o[e].sort(((e,t)=>t.vertical-e.vertical))})),"P"===r&&c.sort(n),(0,e.createElement)("div",{className:`face-shelf face-shelf-${r}`,key:r},(0,e.createElement)("div",{className:"shelf-title common-container"},"P"===r?null:(0,e.createElement)(e.Fragment,null,"B1S",r)),(0,e.createElement)("div",{className:`shelf shelf-${r}`},c.map((t=>(0,e.createElement)("div",{className:"item-group",key:t},o[t].map(((t,r)=>(0,e.createElement)("div",{className:`item position-${t.horizontal}-${t.vertical}`,key:r},(0,e.createElement)("img",{src:`${a.ImageURL}${t.code}.jpg`,alt:`SKU ${t.code}`,width:6*t.width,height:6*t.height,"data-tooltip-id":t.code,className:"green"})))))))))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h2",null,i," - ",m),(0,e.createElement)("div",{className:"admin-fixture"},(0,e.createElement)("div",{className:"face-data-display"},(0,e.createElement)("h3",null,"Graphic Layout:"),Object.entries(t).map((([e,t])=>o(t,e)))),(0,e.createElement)("div",{className:"panel-data-display"},(0,e.createElement)("h3",null,"Backpanel:"),r.length>0&&o(r,"P"))))})()):(0,e.createElement)("p",null,"No data available. Please select a Promotion")}),null),c)}()}();