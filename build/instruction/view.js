!function(){"use strict";var e={664:function(e,t,a){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return o(t,e),t},s=this&&this.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0});var l=c(a(196)),i=a(657),u=a(10),m=[1,3,5],f=[(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(m[2],"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-0"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(-").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(-").concat(m[1],"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-1"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(m[0],"rem) scale(0.75)}\n    75% {transform: translateX(-").concat(m[0],"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-2"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(m[0],"rem) scale(0.75)}\n    75% {transform: translateX(").concat(m[0],"rem) scale(0.75)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-3"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(").concat(m[1],"rem) scale(0.6)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-4"),(0,u.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(m[0],"rem) scale(0.75)}\n    50% {transform: translateX(").concat(m[1],"rem) scale(0.6)}\n    75% {transform: translateX(").concat(m[2],"rem) scale(0.5)}\n    95% {transform: translateX(0rem) scale(1)}"),"propogate-5")];t.default=function(e){var t=e.loading,a=void 0===t||t,r=e.color,o=void 0===r?"#000000":r,c=e.speedMultiplier,u=void 0===c?1:c,m=e.cssOverride,p=void 0===m?{}:m,d=e.size,h=void 0===d?15:d,v=s(e,["loading","color","speedMultiplier","cssOverride","size"]),g=(0,i.parseLengthAndUnit)(h),y=g.value,b=g.unit,w=n({display:"inherit",position:"relative"},p),E=function(e){return{position:"absolute",fontSize:"".concat(y/3).concat(b),width:"".concat(y).concat(b),height:"".concat(y).concat(b),background:o,borderRadius:"50%",animation:"".concat(f[e]," ").concat(1.5/u,"s infinite"),animationFillMode:"forwards"}};return a?l.createElement("span",n({style:w},v),l.createElement("span",{style:E(0)}),l.createElement("span",{style:E(1)}),l.createElement("span",{style:E(2)}),l.createElement("span",{style:E(3)}),l.createElement("span",{style:E(4)}),l.createElement("span",{style:E(5)})):null}},10:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0,t.createAnimation=function(e,t,a){var n="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,c="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(c,0),n}},657:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var a={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){if("number"==typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return a[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=n,t.cssValue=function(e){var t=n(e);return"".concat(t.value).concat(t.unit)}},196:function(e){e.exports=window.React}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=a(196),t=window.wp.element,n=a(664),r=a.n(n),o=function(){return(0,e.createElement)("div",{className:"loading"},"Loading fixture...",(0,e.createElement)(r(),{color:"#008fca",cssOverride:{display:"block",margin:"0 auto",width:"max-content",padding:"20px 0"}}))};const c=document.querySelector(".wp-block-vml-fixtures-instruct");c&&(0,t.render)((0,e.createElement)((()=>{const[a,n]=(0,t.useState)(null),[r,c]=(0,t.useState)(!0),[s,l]=(0,t.useState)(null),[i,u]=(0,t.useState)(null),[m,f]=(0,t.useState)(null),p=new URL(window.location.href),d=p.searchParams.get("brand"),h=p.searchParams.get("promo"),v=p.searchParams.get("fixture"),g=p.searchParams.get("region");return(0,t.useEffect)((()=>{!async function(){try{const e=await(async(e,t)=>{try{let a="/wp-json/vml-fixtures/v1/get-option/";(e||t)&&(a+=`?${new URLSearchParams({brand:e,promo:t}).toString()}`);const n=await fetch(a);if(!n.ok)throw new Error(`API request failed with status ${n.status}`);return await n.json()}catch(e){throw console.error("Error fetching option data:",e),e}})(d,h);if(!e?.data)throw new Error("No data received. Please select a Promotion.");{const t=e.data;n(t),u(v),f(g)}}catch(e){console.error("Fetch Error:",e),l(e.toString())}finally{c(!1)}}()}),[]),r?(0,e.createElement)(o,null):s?(0,e.createElement)("p",null,s):a?(0,e.createElement)("div",{className:"fixture-select"},(()=>{if(!a||"object"!=typeof a.final_skus||!i)return(0,e.createElement)("p",null,"No SKU data available. Please select a Promotion.");let t={},n=[];const r=(e,t)=>{const a=["LS","M","RS"];return a.indexOf(e)-a.indexOf(t)};Object.values(a.final_skus).forEach((e=>{e.positions&&e.positions.forEach((a=>{a.fixture_type!==i||m&&a.region!==m||("P"===a.shelf?n.push({...a,...e}):(t[a.shelf]||(t[a.shelf]=[]),t[a.shelf].push({...a,...e})))}))}));const o=(t,n)=>{let o=t.reduce(((e,t)=>{let a=t.horizontal;return e[a]||(e[a]=[]),e[a].push(t),e}),{}),c=Object.keys(o).sort(((e,t)=>e-t));return c.forEach((e=>{o[e].sort(((e,t)=>t.vertical-e.vertical))})),"P"===n&&c.sort(r),(0,e.createElement)("div",{className:`face-shelf face-shelf-${n}`,key:n},(0,e.createElement)("div",{className:"shelf-title common-container"},"P"===n?null:(0,e.createElement)(e.Fragment,null,"B1S",n)),(0,e.createElement)("div",{className:`shelf shelf-${n}`},c.map((t=>(0,e.createElement)("div",{className:"item-group",key:t},o[t].map(((t,n)=>(0,e.createElement)("div",{className:`item position-${t.horizontal}-${t.vertical}`,key:n},(0,e.createElement)("img",{src:`${a.ImageURL}${t.code}.jpg`,alt:`SKU ${t.code}`,width:12*t.width,height:12*t.height,"data-tooltip-id":t.code,className:"green"})))))))))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h2",null,i," - ",m),(0,e.createElement)("div",{className:"admin-fixture"},(0,e.createElement)("div",{className:"face-data-display"},(0,e.createElement)("h3",null,"Graphic Layout:"),Object.entries(t).map((([e,t])=>o(t,e)))),(0,e.createElement)("div",{className:"panel-data-display"},(0,e.createElement)("h3",null,"Backpanel:"),n.length>0&&o(n,"P"))))})()):(0,e.createElement)("p",null,"No data available. Please select a Promotion")}),null),c)}()}();