!function(){"use strict";jQuery((function(t){const o=t("div#topdf").data("ajax-url");function e(e,a){const d=t(a),i=d.closest(".common-container"),r=d.find(".js-loadingMsg"),c=i.find(".addToCart-success"),s=i.find(".addToCart-fail");if(d.attr("disabled","disabled").attr("data-loading","true"),r.text(r.data("loading-msg")),c.hide(),s.hide(),!e||0===e.length)return void n("Product information is missing. Please try again.",s);const l={action:"vizmerch_add_to_cart",products:e};t.ajax({url:o,type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(l)}).done((function(t){t.error?n(t.error,s):(c.show(),cart_info.count+=e.length,updateCartCount())})).fail((function(t,o,e){let a="There has been a problem adding the items to the cart. Please try again later.";t.responseJSON&&t.responseJSON.error&&(a=t.responseJSON.error),n(a,s)})).always((function(){d.removeAttr("disabled").removeAttr("data-loading"),r.text("")}))}function n(t,o){o.text(t).show()}window.handleAddToCart=function(o){const n=t(o.target).closest("button");e([{product_id:n.data("product-id"),product_code:n.data("product-code"),qty:1}],n[0])},window.handleAddShelfToCart=function(o){e(o,t(event.target).closest("button")[0])},window.openDialog=function(t){document.getElementById(t).showModal()},window.closeDialog=function(t){document.getElementById(t).close()},document.addEventListener("click",(function(t){t.target instanceof HTMLDialogElement&&t.target.open&&window.closeDialog(t.target.id)}),!1)}))}();